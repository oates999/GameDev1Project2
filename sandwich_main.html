<html>
<head>
	<meta charset="UTF-8" />
	<title>Sandwich Game Placeholder Title</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
	<style text="text/css">
		body {
			margin: 0;
		}
	</style>
</head>

<body>
<script type="text/javascript">

var game = new Phaser.Game(750, 1334, Phaser.AUTO, '',
	{preload: preload, create: create, update: update});
//Global Variables
var wheel;
var leftTween;
var rightTween;
var tween_duration = 200;
var x_on_start;
var x_on_stop;
var y_on_start;
var y_on_stop;

//Temporary Variables
var key1;
var key2;

function preload () {
	game.load.image("wheel_sprite", "assets/images/placeholder/placeholder_wheel.png");
}

function create() {
	game.physics.startSystem(Phaser.Physics.ARCADE);
	game.input.mouse.capture = true;

	//Creation and positioning of the wheel
	wheel = game.add.sprite(0, 0, "wheel_sprite");
	wheel.inputEnabled = true;
	wheel.width = 700;
	wheel.height = 700;
	wheel.anchor.set(0.5, 0.5);
	wheel.x = game.width/2;
	wheel.y = game.height - 250;
	wheel.angle -= 45;

	//Defining of the wheel-spin tweens
	leftTween = game.add.tween(wheel).to({angle: "-90"}, tween_duration, Phaser.Easing.Linear.None, true, 100);
	rightTween = game.add.tween(wheel).to({angle: "+90"}, tween_duration, Phaser.Easing.Linear.None, true, 100);

	//Defining function call when mouse is clicked/released
	game.input.onDown.add(onClick, this);
	game.input.onUp.add(onRelease, this);
}

function update() {

}

//Function called on left-click start
function onClick() {
	x_on_start = game.input.mousePointer.x;
	y_on_start = game.input.mousePointer.y;
}
//Function called on left-click release
function onRelease() {
	x_on_stop = game.input.mousePointer.x;
	y_on_stop = game.input.mousePointer.y;
	if (x_on_stop + (game.width/5) < x_on_start) {
		if (wheel.angle % 90 === 45 || wheel.angle % 90 === -45)
			leftTween.start();
	}
	else if (x_on_stop - (game.width/5) > x_on_start) {
		if (wheel.angle % 90 === 45 || wheel.angle % 90 === -45)
			rightTween.start();
	}	
}

</script>
</body>
</html>